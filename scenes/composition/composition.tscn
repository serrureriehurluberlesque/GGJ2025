[gd_scene load_steps=27 format=3 uid="uid://6kw3g6bmikqu"]

[ext_resource type="Script" path="res://scenes/composition/composition.gd" id="1_8q7nh"]
[ext_resource type="Texture2D" uid="uid://wuogjxb7m8cq" path="res://assets/syrup_pump.png" id="2_m5yj8"]
[ext_resource type="Texture2D" uid="uid://dvap80laic0to" path="res://assets/decor_2_pumpless.png" id="3_aoqim"]
[ext_resource type="Texture2D" uid="uid://c8g462a5ygog8" path="res://assets/verre_vide.png" id="3_iuv2l"]
[ext_resource type="Texture2D" uid="uid://bolqyromgna0w" path="res://assets/the.png" id="4_12rl6"]
[ext_resource type="Texture2D" uid="uid://b4qrclnyb6oep" path="res://assets/syrup_pump_cover.png" id="4_c2l0h"]
[ext_resource type="Texture2D" uid="uid://c856wc8xt7bix" path="res://assets/bubbles.png" id="5_qk1ry"]
[ext_resource type="Texture2D" uid="uid://ctgcmvx2qe8rx" path="res://assets/sirop.png" id="6_xjcdl"]
[ext_resource type="AudioStream" uid="uid://dpskva8lyvi7d" path="res://assets/sounds/tea.wav" id="8_kc1n8"]
[ext_resource type="AudioStream" uid="uid://d2dcf5iivfv32" path="res://assets/sounds/syrup2.wav" id="9_3316o"]
[ext_resource type="Texture2D" uid="uid://0kmqyksb61d6" path="res://assets/bouton_craft_1_tea.png" id="9_scmgn"]
[ext_resource type="FontFile" uid="uid://c4i4numogvrbl" path="res://assets/CUTE FROG.ttf" id="10_72v0u"]
[ext_resource type="AudioStream" uid="uid://bvsbbqnilyish" path="res://assets/sounds/tapioca.wav" id="10_ik467"]
[ext_resource type="PackedScene" uid="uid://6vhvfllng0a" path="res://scenes/rainning_tapioca.tscn" id="11_7nw1a"]
[ext_resource type="Texture2D" uid="uid://ci481pvs176ul" path="res://assets/theiere.png" id="12_dvh0g"]
[ext_resource type="Texture2D" uid="uid://berslddf3i2bb" path="res://assets/bubble.png" id="14_6bjjf"]
[ext_resource type="Texture2D" uid="uid://pajx283ag8qp" path="res://assets/bulle_texte_cropped.png" id="14_psxxp"]
[ext_resource type="Texture2D" uid="uid://egfp342sfpk8" path="res://assets/bouton_craft_2.png" id="15_nnlah"]
[ext_resource type="Texture2D" uid="uid://dpw1n3gqjcmt7" path="res://assets/bouton_craft_2_pressed.png" id="16_s61ik"]
[ext_resource type="Texture2D" uid="uid://cpnh2joxosm2d" path="res://assets/bouton_craft_2_hover.png" id="17_q6jr2"]
[ext_resource type="AudioStream" uid="uid://dxvbbvnbtj7m0" path="res://assets/sounds/submit.wav" id="21_8fpmi"]

[sub_resource type="Animation" id="Animation_neosr"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("tea:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("tea:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("sirop:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("sirop:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("bubbles:visible")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("bubbles:modulate")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("RainningTapioca/GPUParticles2D:emitting")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("theiere:rotation")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/8/type = "value"
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/path = NodePath("theiere:modulate")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}
tracks/9/type = "value"
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/path = NodePath("syrup_pump:position")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}

[sub_resource type="Animation" id="Animation_w217m"]
resource_name = "add_bubbles"
length = 1.5
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(1.36667),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"prepare_next"
}]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("bubbles:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.7),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("bubbles:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.7, 1.2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}
tracks/3/type = "method"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("bubble_sound")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0.3),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [0.0],
"method": &"play"
}]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("RainningTapioca/GPUParticles2D:emitting")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_o5ho4"]
resource_name = "add_syrup"
length = 1.1
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(1),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"prepare_next"
}]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("sirop:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.466667, 0.9),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("sirop:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.466667),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/3/type = "method"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("syrup_sound")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0.25),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [0.0],
"method": &"play"
}]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("syrup_pump:position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 0.3, 0.6),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(0, 0), Vector2(0, 55), Vector2(0, 0)]
}

[sub_resource type="Animation" id="Animation_1vhuy"]
resource_name = "add_tea"
length = 2.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("tea:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.9),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(2.4),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"prepare_next"
}]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("tea:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.9, 2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}
tracks/3/type = "method"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("tea_sound")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0.4),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [0.0],
"method": &"play"
}]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("theiere:rotation")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0.35, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, -0.785398]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("theiere:modulate")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0, 0.3, 2.1, 2.4),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1), Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_eou6a"]
_data = {
"RESET": SubResource("Animation_neosr"),
"add_bubbles": SubResource("Animation_w217m"),
"add_syrup": SubResource("Animation_o5ho4"),
"add_tea": SubResource("Animation_1vhuy")
}

[node name="Composition" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = -1000.0
offset_bottom = -910.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_8q7nh")
metadata/_edit_use_anchors_ = true

[node name="Background" type="TextureRect" parent="."]
layout_mode = 0
offset_right = 956.0
offset_bottom = 885.0
texture = ExtResource("3_aoqim")

[node name="syrup_pump" type="TextureRect" parent="."]
layout_mode = 0
offset_right = 1000.0
offset_bottom = 910.0
texture = ExtResource("2_m5yj8")

[node name="back_front_ground" type="TextureRect" parent="."]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("4_c2l0h")

[node name="verre_vide" type="TextureRect" parent="."]
layout_mode = 1
texture = ExtResource("3_iuv2l")
metadata/_edit_use_anchors_ = true

[node name="tea" type="TextureRect" parent="."]
visible = false
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("4_12rl6")

[node name="sirop" type="TextureRect" parent="."]
visible = false
layout_mode = 0
offset_right = 960.0
offset_bottom = 885.0
texture = ExtResource("6_xjcdl")

[node name="bubbles" type="TextureRect" parent="."]
visible = false
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("5_qk1ry")

[node name="SectionRect" type="TextureRect" parent="."]
layout_mode = 0
offset_left = 91.0
offset_top = 47.0
offset_right = 357.0
offset_bottom = 195.0
texture = ExtResource("9_scmgn")
stretch_mode = 4

[node name="MarginTitle" type="MarginContainer" parent="SectionRect"]
layout_mode = 1
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 0.912
offset_bottom = 0.0239868
theme_override_constants/margin_left = 30
theme_override_constants/margin_top = 30
theme_override_constants/margin_right = 100
theme_override_constants/margin_bottom = 10

[node name="SectionTitle" type="Label" parent="SectionRect/MarginTitle"]
unique_name_in_owner = true
layout_mode = 2
size_flags_vertical = 1
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_fonts/font = ExtResource("10_72v0u")
theme_override_font_sizes/font_size = 60
horizontal_alignment = 1
vertical_alignment = 1

[node name="TypeSelection" type="MarginContainer" parent="."]
custom_minimum_size = Vector2(10, 10)
layout_mode = 1
offset_top = 221.0
offset_right = 375.0
offset_bottom = 883.0
theme_override_constants/margin_left = 60

[node name="List" type="VBoxContainer" parent="TypeSelection"]
unique_name_in_owner = true
layout_mode = 2

[node name="composition_player" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_eou6a")
}

[node name="tea_sound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("8_kc1n8")

[node name="syrup_sound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("9_3316o")

[node name="bubble_sound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("10_ik467")

[node name="RainningTapioca" parent="." instance=ExtResource("11_7nw1a")]
position = Vector2(680, -397)

[node name="GPUParticles2D" parent="RainningTapioca" index="0"]
position = Vector2(2, 854)
amount = 10
texture = ExtResource("14_6bjjf")

[node name="theiere" type="TextureRect" parent="."]
modulate = Color(1, 1, 1, 0)
layout_mode = 1
offset_left = 718.0
offset_top = 297.0
offset_right = 1041.0
offset_bottom = 653.0
texture = ExtResource("12_dvh0g")

[node name="DescrBubble" type="TextureRect" parent="."]
layout_mode = 0
offset_left = 510.0
offset_top = 49.0
offset_right = 869.0
offset_bottom = 302.0
texture = ExtResource("14_psxxp")

[node name="LabelMargin" type="MarginContainer" parent="DescrBubble"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 15.0
offset_top = 18.0
offset_right = -13.0
offset_bottom = -86.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 10
theme_override_constants/margin_top = 15
theme_override_constants/margin_right = 10

[node name="Description" type="Label" parent="DescrBubble/LabelMargin"]
unique_name_in_owner = true
custom_minimum_size = Vector2(50, 60)
layout_mode = 2
size_flags_vertical = 1
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_fonts/font = ExtResource("10_72v0u")
theme_override_font_sizes/font_size = 24
text = "Cliquez sur un élément pour avoir des infos supplémentaires"
autowrap_mode = 3

[node name="Submit" type="TextureButton" parent="DescrBubble"]
layout_mode = 0
offset_left = 52.0
offset_top = 160.0
offset_right = 275.0
offset_bottom = 219.0
mouse_default_cursor_shape = 2
texture_normal = ExtResource("15_nnlah")
texture_pressed = ExtResource("16_s61ik")
texture_hover = ExtResource("17_q6jr2")
ignore_texture_size = true
stretch_mode = 0

[node name="Label" type="Label" parent="DescrBubble/Submit"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -27.5
offset_top = -11.5
offset_right = 27.5
offset_bottom = 11.5
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_fonts/font = ExtResource("10_72v0u")
theme_override_font_sizes/font_size = 42
text = "Valider"

[node name="SubmitSound" type="AudioStreamPlayer" parent="DescrBubble/Submit"]
stream = ExtResource("21_8fpmi")

[connection signal="pressed" from="DescrBubble/Submit" to="." method="_on_submit_pressed"]

[editable path="RainningTapioca"]
